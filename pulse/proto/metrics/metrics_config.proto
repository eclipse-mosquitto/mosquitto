syntax = "proto3";

package hivemq.pulse.grpc;

import "google/protobuf/timestamp.proto";

option java_multiple_files = true;
option java_package = "com.hivemq.pulse.agent.server.communication.message.proto";

/*
 * Configuration for agent metrics reporting, sent from server to agent.
 */
message MetricsConfigProto {

  /*
   * Whether metrics reporting is enabled.
   *
   * required
   */
  bool enabled = 1;

  /*
   * The absolute timestamp when the server next expects a metrics report.
   *
   * required
   */
  google.protobuf.Timestamp next_report_time = 2;

  reserved 3; // was include_histograms, now controlled by requested_metrics

  /*
   * The metric names the server wants to receive.
   * If empty, all available metrics are reported.
   */
  repeated string requested_metrics = 4;
}
